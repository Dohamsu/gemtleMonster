# 🎮 GemtleMonster

![Version](https://img.shields.io/badge/version-1.2.0-blue.svg)

몬스터 연금술과 던전 탐험을 통해 다양한 몬스터를 제작하는 방치형 RPG 게임

## 📋 프로젝트 소개

GemtleMonster는 연금술 시스템과 던전 탐험을 중심으로 한 방치형 게임입니다. 플레이어는 재료를 수집하고, 레시피를 발견하며, 다양한 몬스터를 제작하고 던전에서 전투를 벌일 수 있습니다.

🌐 **플레이**: [https://gemtle-monster.vercel.app](https://gemtle-monster.vercel.app)

## ✨ 주요 기능

### 🧪 연금술 시스템
- **스마트 재료 관리**:
  - 클릭으로 간편하게 재료 추가 (클릭당 +1)
  - 슬롯당 최대 수량 제한 및 재고 관리
  - 재료 추가/제거 시 레시피 선택 상태 자동 최적화
- **레시피 자동 매칭**: 재료 조합 시 자동으로 일치하는 레시피를 감지하여 제작 가능
- **최소 재료 수량 매칭**: 레시피 요구량 이상의 재료도 인식
- **레시피 발견**: 기본 레시피 + 숨겨진 레시피 발견 시스템
- **몬스터 제작**: 성공률 기반 제작 시스템 (실패 시 경험치 획득)
- **캔버스 UI**: 인터랙티브한 연금술 공방 인터페이스
- **모바일 반응형**: 탭 기반 UI로 모바일 최적화

### ⚔️ 던전 시스템 (v1.2.0 신규)
- **다양한 던전**: 슬라임 동굴, 숲의 심장부, 수정 광산, 불꽃 화산, 크리스마스 던전 등
- **실시간 전투**: 자동 전투 시스템
- **몬스터 선택**: 보유한 몬스터 중 하나를 선택하여 전투
- **재료 드랍**: 전투 승리 시 다양한 재료 획득
- **권장 레벨**: 던전별 권장 레벨 표시
- **전투 로그**: 실시간 전투 상황 확인

### 🛒 상점 시스템
- **재료 거래**: 보유한 재료를 판매하거나 필요한 재료를 구매
- **경제 시스템**: 골드를 통한 재화 순환

### 🐉 몬스터 관리 시스템
- **몬스터 분해**: 불필요한 몬스터를 분해하여 재료 획득
- **잠금 기능**: 중요한 몬스터를 실수로 분해하지 않도록 잠금 설정
- **도감**: 획득한 몬스터 정보 확인

### 🏭 시설 관리
- **약초 농장**: 기본 약초 생산
- **광산**: 광물 채굴 (업그레이드 가능)
- **연금술 공방**: 몬스터 제작
- **던전 입구**: 던전 탐험 진입

### 💾 데이터 관리
- Supabase 기반 실시간 데이터베이스
- 자동 저장 시스템 (배치 동기화)
- 플레이어 진행도 추적

## 🛠️ 기술 스택

### Frontend
- **React 18** - UI 프레임워크
- **TypeScript** - 타입 안정성
- **Vite 7** - 빌드 도구
- **Zustand** - 상태 관리
- **Canvas API** - 게임 렌더링

### Backend
- **Supabase** - 백엔드 서비스
  - PostgreSQL 데이터베이스
  - Row Level Security (RLS)
  - 실시간 데이터 동기화
  - 인증 시스템

### 배포
- **Vercel** - 프로덕션 호스팅

### 데이터베이스 구조
```
📦 Core Systems
├── material (재료 마스터)
├── recipe (레시피 마스터)
├── monster (몬스터 마스터)
├── recipe_ingredient (레시피-재료 관계)
├── recipe_condition (레시피 조건)
│
📦 Player Data
├── player_material (플레이어 보유 재료)
├── player_recipe (플레이어 레시피 발견 기록)
├── player_monster (플레이어 보유 몬스터)
├── player_alchemy (플레이어 연금술 정보)
├── player_facility (플레이어 시설 정보)
└── alchemy_history (제작 기록)
```

## 🚀 시작하기

### 필수 요구사항
- Node.js 20.19+ 또는 22.12+
- npm 또는 yarn
- Supabase 계정

### 설치

1. 저장소 클론
```bash
git clone https://github.com/yourusername/gemtleMonster.git
cd gemtleMonster
```

2. 의존성 설치
```bash
npm install
```

3. 환경 변수 설정
`.env` 파일 생성:
```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
VITE_SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

4. 데이터베이스 스키마 생성
```bash
# Supabase SQL Editor에서 실행
# supabase/alchemy_schema.sql 파일 내용 실행
```

5. 초기 데이터 시드
```bash
npm run seed:alchemy
```

6. 개발 서버 실행
```bash
npm run dev
```

## 📖 게임 플레이 가이드

### 1. 시작하기
- 게임 시작 시 자동으로 로그인됩니다
- 맵 화면에서 다양한 시설을 클릭하여 이용하세요

### 2. 재료 수집
- 시설 관리 탭에서 약초 농장과 광산을 관리하세요
- 일정 시간마다 재료를 수확할 수 있습니다
- 상점에서 필요한 재료를 구매하거나 남는 재료를 판매할 수 있습니다
- **던전 탐험**을 통해 희귀한 재료를 획득하세요

### 3. 던전 탐험
1. **던전 입구** 클릭하여 던전 목록 확인
2. **몬스터 선택**: 보유한 몬스터 중 전투에 참여할 몬스터 선택
3. **전투 시작**: 자동으로 전투가 진행됩니다
4. **보상 획득**: 승리 시 재료 드랍 획득

### 4. 연금술 제작
1. **레시피 선택**: 왼쪽 레시피 목록에서 선택하거나,
2. **자유 조합**: 오른쪽 재료 목록에서 원하는 재료를 클릭하여 조합 (자동 레시피 매칭)
3. **제작 시작**: "연금술 시작" 버튼 클릭
4. **결과 확인**: 성공률에 따라 몬스터 획득 또는 실패 (실패해도 경험치 획득)

### 5. 몬스터 관리
- 획득한 몬스터는 인벤토리에서 확인 가능
- 자물쇠 아이콘으로 몬스터 잠금/해제
- '분해' 버튼으로 몬스터를 재료로 변환
- 던전 전투에 몬스터를 출전시킬 수 있습니다

## 📊 재료 계열

| 계열 | 설명 | 예시 |
|------|------|------|
| 🌿 PLANT | 식물 계열 | 일반 약초, 희귀 약초 |
| 💎 MINERAL | 광물 계열 | 철광석, 마나 수정 |
| 🦴 BEAST | 야수 계열 | 짐승 송곳니 |
| 🟢 SLIME | 슬라임 계열 | 슬라임 코어 |
| ✨ SPIRIT | 정령 계열 | 정령 가루 |

## 📜 버전 히스토리

### v1.2.0 (2024-12-05)
- ⚔️ **던전 시스템** 추가
  - 5종 던전 (슬라임 동굴, 숲의 심장부, 수정 광산, 불꽃 화산, 크리스마스 던전)
  - 다양한 몬스터 적 추가 (슬라임, 고블린, 골렘, 용 등)
  - 실시간 자동 전투 시스템
  - 전투 승리 시 재료 드랍 획득
  - 몬스터 선택 후 던전 출전 기능
- 🖼️ **UI 개선**
  - 던전 모달에 이미지 표시
  - 전투 뷰 모바일 최적화 (높이 고정, 스크롤)
  - 연금술 공방 모바일 반응형 개선
- 🐛 **버그 수정**
  - 연금술 자동 채우기 버그 수정
  - 클릭 좌표 동기화 문제 해결

### v1.1.0
- 🛒 상점 시스템 추가
- 🔒 몬스터 분해 및 잠금 시스템
- 📦 배치 동기화 시스템

### v1.0.0
- � 기본 게임 시스템 구현
- 🧪 연금술 시스템
- 🏭 시설 관리 시스템
- 💾 Supabase 연동

## �🎯 로드맵

- [x] 기본 연금술 시스템
- [x] 캔버스 기반 UI
- [x] 재료 수집 시스템
- [x] 상점 시스템
- [x] 몬스터 분해 및 잠금 시스템
- [x] 던전 탐험 시스템
- [ ] 몬스터 인벤토리 고도화
- [ ] 몬스터 육성 시스템
- [ ] PvP 배틀 시스템
- [ ] 길드 시스템
- [ ] 보스 레이드

## 🤝 기여하기

프로젝트에 기여하고 싶으시다면:

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m '새로운 기능 추가'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## 📝 라이센스

MIT License - 자세한 내용은 [LICENSE](LICENSE) 파일을 참조하세요.

## 👨‍💻 개발자

**jwonkim** - [GitHub Profile](https://github.com/yourusername)

## 🙏 감사의 말

- React 팀
- Supabase 팀
- Zustand 개발자들
- Vercel 팀
- 모든 오픈소스 기여자들
